// lamp_device.cpp
// –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
#include "devices.h"
#include <iostream>
#include <algorithm>

// ===== –õ–ê–ú–ü–ê =====
Lamp::Lamp() : Device("–õ–∞–º–ø–∞", 100.0, 10.0) {}

std::string Lamp::getDescription() const {
    return "–õ–∞–º–ø–∞ (–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ: 10 –í—Ç)";
}

void Lamp::printStatus() const {
    std::cout << "üí° ";
    Device::printStatus();
}

void Lamp::simulateDay() {
    // –°–∏–º—É–ª—è—Ü–∏—è —Ç–∏–ø–∏—á–Ω–æ–≥–æ –¥–Ω—è –¥–ª—è –ª–∞–º–ø—ã ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è –∏ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã
    std::cout << "üí° [" << name << "] ‚Äî —Å–∏–º—É–ª—è—Ü–∏—è –¥–Ω—è." << std::endl;

    // –£—Ç—Ä–µ–Ω–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
    std::cout << "  –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–∞–º–ø—ã —É—Ç—Ä–æ–º: 3 —á–∞—Å–∞." << std::endl;
    if (!isRunning) {
        turnOn();
    }
    work(3.0);
    // –õ–∞–º–ø–∞ –≤—ã–∫–ª—é—á–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –±–ª–æ–∫–∞
    turnOff();

    // –í–µ—á–µ—Ä–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
    std::cout << "  –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–∞–º–ø—ã –≤–µ—á–µ—Ä–æ–º: 4 —á–∞—Å–∞." << std::endl;
    turnOn();
    work(4.0);
    turnOff();
}

// ===== CoffeeMaker =====
CoffeeMaker::CoffeeMaker() 
    : Device("–ö–æ—Ñ–µ–≤–∞—Ä–∫–∞", 500.0, 900.0) {}

std::string CoffeeMaker::getDescription() const {
    return "–£–º–Ω–∞—è –∫–æ—Ñ–µ–≤–∞—Ä–∫–∞ (–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ: 900 –í—Ç, –±–∞—Ç–∞—Ä–µ—è: 500 –í—Ç¬∑—á)";
}

void CoffeeMaker::printStatus() const {
    std::cout << "‚òïÔ∏è ";
    Device::printStatus();
}

void CoffeeMaker::simulateDay() {
    std::cout << "‚òïÔ∏è [" << name << "] ‚Äî —Å–∏–º—É–ª—è—Ü–∏—è –¥–Ω—è." << std::endl;

    // –£—Ç—Ä–µ–Ω–Ω–∏–π –∫–æ—Ñ–µ
    std::cout << "  –ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ —É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∫–æ—Ñ–µ: 15 –º–∏–Ω—É—Ç." << std::endl;
    if (!isRunning) {
        turnOn();
    }
    work(0.25); // 15 –º–∏–Ω—É—Ç = 0.25 —á–∞—Å–∞
    turnOff();

    // –û–±–µ–¥–µ–Ω–Ω—ã–π –∫–æ—Ñ–µ
    std::cout << "  –ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ–±–µ–¥–µ–Ω–Ω–æ–≥–æ –∫–æ—Ñ–µ: 10 –º–∏–Ω—É—Ç." << std::endl;
    turnOn();
    work(0.167); // 10 –º–∏–Ω—É—Ç ‚âà 0.167 —á–∞—Å–∞
    turnOff();

    // –í–µ—á–µ—Ä–Ω–∏–π –∫–æ—Ñ–µ
    std::cout << "  –ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –≤–µ—á–µ—Ä–Ω–µ–≥–æ –∫–æ—Ñ–µ: 20 –º–∏–Ω—É—Ç." << std::endl;
    turnOn();
    work(0.333); // 20 –º–∏–Ω—É—Ç ‚âà 0.333 —á–∞—Å–∞
    turnOff();
}


// ===== –†–æ–±–æ—Ç-–ø—ã–ª–µ—Å–æ—Å =====
RobotVacuum::RobotVacuum() 
    : Device("–†–æ–±–æ—Ç-–ø—ã–ª–µ—Å–æ—Å", 225.0, 45.0) {}

std::string RobotVacuum::getDescription() const {
    return "–†–æ–±–æ—Ç-–ø—ã–ª–µ—Å–æ—Å (–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ: 45 –í—Ç, –±–∞—Ç–∞—Ä–µ—è: 225 –í—Ç¬∑—á)";
}

void RobotVacuum::printStatus() const {
    std::cout << "ü§ñ ";
    Device::printStatus();
}

void RobotVacuum::simulateDay() {
    std::cout << "ü§ñ [" << name << "] ‚Äî —Å–∏–º—É–ª—è—Ü–∏—è –¥–Ω—è." << std::endl;

    // –£—Ç—Ä–µ–Ω–Ω—è—è —É–±–æ—Ä–∫–∞
    std::cout << "  –£—Ç—Ä–µ–Ω–Ω—è—è —É–±–æ—Ä–∫–∞: 1.5 —á–∞—Å–∞." << std::endl;
    if (!isRunning) {
        turnOn();
    }
    work(1.5);
    turnOff();

    // –í–µ—á–µ—Ä–Ω—è—è —É–±–æ—Ä–∫–∞
    std::cout << "  –í–µ—á–µ—Ä–Ω—è—è —É–±–æ—Ä–∫–∞: 1 —á–∞—Å." << std::endl;
    turnOn();
    work(1.0);
    turnOff();
}

// ===== SmartThermostat =====
SmartThermostat::SmartThermostat() 
    : Device("–£–º–Ω—ã–π —Ç–µ—Ä–º–æ—Å—Ç–∞—Ç", 72.0, 3.0) {}

std::string SmartThermostat::getDescription() const {
    return "–£–º–Ω—ã–π —Ç–µ—Ä–º–æ—Å—Ç–∞—Ç (–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ: 3 –í—Ç, –±–∞—Ç–∞—Ä–µ—è: 72 –í—Ç¬∑—á)";
}

void SmartThermostat::printStatus() const {
    std::cout << "üå°Ô∏è  ";
    Device::printStatus();
}

void SmartThermostat::simulateDay() {
    std::cout << "üå°Ô∏è  [" << name << "] ‚Äî —Å–∏–º—É–ª—è—Ü–∏—è –¥–Ω—è." << std::endl;

    // –¢–µ—Ä–º–æ—Å—Ç–∞—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Å –Ω–µ–±–æ–ª—å—à–∏–º–∏ –ø–µ—Ä–µ—Ä—ã–≤–∞–º–∏
    std::cout << "  –†–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è: 20 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã." << std::endl;
    if (!isRunning) {
        turnOn();
    }
    work(20.0);
    // –¢–µ—Ä–º–æ—Å—Ç–∞—Ç –Ω–µ –≤—ã–∫–ª—é—á–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é, —Ç–æ–ª—å–∫–æ —Å–Ω–∏–∂–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
    std::cout << "  –ù–æ—á–Ω–æ–π —Ä–µ–∂–∏–º: –ø–æ–Ω–∏–∂–µ–Ω–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å." << std::endl;
}


SmartSpeaker::SmartSpeaker() 
    : Device("–£–º–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞", 120.0, 15.0) {}

std::string SmartSpeaker::getDescription() const {
    return "–£–º–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞ (–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ: 15 –í—Ç, –±–∞—Ç–∞—Ä–µ—è: 120 –í—Ç¬∑—á)";
}

void SmartSpeaker::printStatus() const {
    std::cout << "üîä ";
    Device::printStatus();
}

void SmartSpeaker::simulateDay() {
    std::cout << "üîä [" << name << "] ‚Äî —Å–∏–º—É–ª—è—Ü–∏—è –¥–Ω—è." << std::endl;

    // –£—Ç—Ä–µ–Ω–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–Ω–æ–≤–æ—Å—Ç–∏, –ø–æ–≥–æ–¥–∞)
    std::cout << "  –£—Ç—Ä–µ–Ω–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –∏ –ø–æ–≥–æ–¥–∞: 30 –º–∏–Ω—É—Ç." << std::endl;
    if (!isRunning) {
        turnOn();
    }
    work(0.5);
    
    // –§–æ–Ω–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞ –≤ —Ä–µ–∂–∏–º–µ –æ–∂–∏–¥–∞–Ω–∏—è
    std::cout << "  –†–µ–∂–∏–º –æ–∂–∏–¥–∞–Ω–∏—è –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è: 8 —á–∞—Å–æ–≤." << std::endl;
    turnOff(); // –ü–µ—Ä–µ—Ö–æ–¥ –≤ —Ä–µ–∂–∏–º –ø–æ–Ω–∏–∂–µ–Ω–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è
    
    // –í–µ—á–µ—Ä–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–º—É–∑—ã–∫–∞)
    std::cout << "  –í–µ—á–µ—Ä–Ω—è—è –º—É–∑—ã–∫–∞: 2 —á–∞—Å–∞." << std::endl;
    turnOn();
    work(2.0);
    turnOff();
}